{"version":3,"sources":["components/pages/messages/dialogsItem/dialogsItem.js","components/pages/messages/messagesItemItem/messagesItemItem.js","components/pages/messages/messages.js","components/pages/messages/messagesContainer.js"],"names":["DialogsItem","props","path","id","className","to","name","MessageItemsItem","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","Messages","state","messagesPage","dialogsElements","dialogs","map","dialog","key","messagesElements","messages","isAuth","values","sendMessage","newMessageBody","compose","connect","dispatch","sendMessageActionCreator","withAuthRedirect"],"mappings":"0LAaeA,EAVK,SAACC,GACjB,IAAMC,EAAO,aAAaD,EAAME,GAEhC,OACI,yBAAKC,UAAU,iBACX,kBAAC,IAAD,CAASC,GAAIH,GAAOD,EAAMK,QCAvBC,EANU,SAACN,GACtB,OACI,yBAAKG,UAAU,wBAAwBH,EAAMO,U,0CCiC/CC,EAAcC,YAAiB,IAY/BC,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAXL,SAACX,GAEpB,OACI,0BAAMa,SAAUb,EAAMc,cAClB,kBAACC,EAAA,EAAD,CAAQC,UAAWC,IAAUZ,KAAK,iBAC1Ba,YAAY,0BAA0BC,SAAU,CAACC,IAAUZ,KACvE,6BAAK,6CAOEa,EAxCE,SAACrB,GAEd,IAAIsB,EAAQtB,EAAMuB,aAEdC,EAAkBF,EAAMG,QAAQC,KAAI,SAAAC,GAAM,OAAG,kBAAC,EAAD,CAAaC,IAAKD,EAAOzB,GAAIG,KAAMsB,EAAOtB,KAAMH,GAAIyB,EAAOzB,QACxG2B,EAAmBP,EAAMQ,SAASJ,KAAI,SAAAnB,GAAO,OAAG,kBAAC,EAAD,CAAkBqB,IAAKrB,EAAQL,GAAIK,QAASA,EAAQA,aAGxG,IAAKP,EAAM+B,OAAQ,OAAO,kBAAC,IAAD,CAAU3B,GAAI,WAMxC,OACI,yBAAKD,UAAU,YACX,yBAAKA,UAAU,WACVqB,GAEL,yBAAKrB,UAAU,kBACX,6BAAM0B,GACN,kBAACnB,EAAD,CAAqBG,SAXX,SAACmB,GACnBhC,EAAMiC,YAAYD,EAAOE,sB,+BCClBC,sBACXC,aAhBkB,SAACd,GACnB,MAAO,CACHC,aAAcD,EAAMC,iBAIH,SAACc,GACtB,MAAO,CACHJ,YAAa,SAACC,GACVG,EAASC,YAAyBJ,SAQ1CK,IAFWJ,CAGbd","file":"static/js/3.c74ad9ea.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogsItem = (props)=>{\r\n    const path = \"/messages/\"+props.id;\r\n\r\n    return(\r\n        <div className='dialogs__item'>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogsItem;","import React from 'react';\r\n\r\nconst MessageItemsItem = (props)=>{\r\n    return(\r\n        <div className='message__items__item'>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default MessageItemsItem;","import React from 'react';\r\nimport './messages.css'\r\nimport DialogsItem from './dialogsItem/dialogsItem';\r\nimport MessageItemsItem from './messagesItemItem/messagesItemItem';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {Textarea} from '../../common/formsControls/formsControls';\r\nimport {required, maxLengthCreator} from '../../../utils/validators/validators';\r\n\r\n\r\n\r\nconst Messages = (props)=>{\r\n\r\n    let state = props.messagesPage;\r\n    \r\n    let dialogsElements = state.dialogs.map(dialog =><DialogsItem key={dialog.id} name={dialog.name} id={dialog.id} />);\r\n    let messagesElements = state.messages.map(message =><MessageItemsItem key={message.id} message={message.message}/>);\r\n\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'} />\r\n\r\n    const addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody)\r\n    }\r\n\r\n    return (\r\n        <div className=\"messages\">\r\n            <div className='dialogs'>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className='message__items'>\r\n                <div>{messagesElements}</div>\r\n                <AddMessageFormRedux onSubmit = {addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst maxLength50 = maxLengthCreator(50);\r\nconst AddMessageForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field  component={Textarea} name='newMessageBody' \r\n                    placeholder='Enter your message here' validate={[required, maxLength50]}/>\r\n        <div><button>SEND</button></div>\r\n    </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)\r\n\r\nexport default Messages;","import './messages.css';\r\nimport Messages from './messages';\r\nimport { sendMessageActionCreator} from '../../../data/dialogs-reducer';\r\nimport { connect } from 'react-redux';\r\nimport {withAuthRedirect} from '../../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux';\r\n\r\n\r\nlet mapStateToProps = (state)=>{\r\n    return {\r\n        messagesPage: state.messagesPage,\r\n      }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch)=>{\r\n    return {\r\n        sendMessage: (newMessageBody)=> {\r\n            dispatch(sendMessageActionCreator(newMessageBody));\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Messages)\r\n\r\n/* let AuthRedirectComponent = withAuthRedirect(Messages)\r\n\r\nconst MessagesContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent)\r\n\r\nexport default MessagesContainer; */"],"sourceRoot":""}